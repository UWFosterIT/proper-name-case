{"version":3,"sources":["../src/index.js"],"names":["convert","str","chunks","buffer","x","length","match","push","processChunk","final","join","trim","toLowerCase","toUpperCase","toUpperCaseAt","pos","substr","charAt"],"mappings":";;;;;AAAA;kBACe;AACbA,WAAS,UAAUC,GAAV,EAAe;AACtB,QAAIA,QAAQ,IAAR,IAAgB,OAAOA,GAAP,KAAe,WAA/B,IAA8CA,QAAQ,EAA1D,EAA8D;AAC5D,UAAIC,SAAS,EAAb;AACA,UAAIC,SAAS,EAAb;AACA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,IAAII,MAAxB,EAAgCD,GAAhC,EAAqC;AACnC,YAAIH,IAAIG,CAAJ,EAAOE,KAAP,CAAa,OAAb,KAAyBL,IAAIG,CAAJ,KAAU,GAAnC,IAA0CH,IAAIG,CAAJ,KAAU,GAApD,IAA2DH,IAAIG,CAAJ,KAAU,GAAzE,EAA8E;AAC5EF,iBAAOK,IAAP,CAAY,KAAKC,YAAL,CAAmB,GAAEL,MAAO,GAAEF,IAAIG,CAAJ,CAAO,EAArC,CAAZ;AACAD,mBAAS,EAAT;AACD,SAHD,MAGO;AACLA,oBAAUF,IAAIG,CAAJ,CAAV;AACD;AACF;;AAED,UAAID,UAAU,EAAd,EAAkB;AAChBD,eAAOK,IAAP,CAAY,KAAKC,YAAL,CAAkBL,MAAlB,CAAZ;AACD;;AAED,UAAIM,QAAQP,OAAOQ,IAAP,CAAY,EAAZ,EAAgBC,IAAhB,EAAZ;AACA,aAAOF,KAAP;AACD;AACD,WAAO,EAAP;AAED,GAvBY;;AAyBbD,gBAAc,UAAUP,GAAV,EAAe;AAC3B;AACA,QAAIA,IAAIK,KAAJ,CAAU,8CAAV,CAAJ,EAA+D;AAC7D,aAAOL,IAAIW,WAAJ,EAAP;AACD;;AAED;AACA,QAAIX,IAAIK,KAAJ,CAAU,mCAAV,CAAJ,EAAoD;AAClD,aAAOL,IAAIY,WAAJ,EAAP;AACD;AACDZ,UAAMA,IAAIW,WAAJ,EAAN;AACAX,UAAM,KAAKa,aAAL,CAAmBb,GAAnB,EAAwB,CAAxB,CAAN;;AAEA;AACA,QAAIA,IAAIK,KAAJ,CAAU,6CAAV,CAAJ,EAA8D;AAC5DL,YAAM,KAAKa,aAAL,CAAmBb,GAAnB,EAAwB,CAAxB,CAAN;AACD;;AAED;AACA,QAAIA,IAAIK,KAAJ,CAAU,8HAAV,CAAJ,EAA+I;AAC7IL,YAAM,KAAKa,aAAL,CAAmBb,GAAnB,EAAwB,CAAxB,CAAN;AACD;AACD,WAAOA,GAAP;AACD,GAhDY;;AAkDba,iBAAe,UAAUb,GAAV,EAAec,GAAf,EAAoB;AACjC,WAAOd,IAAIe,MAAJ,CAAW,CAAX,EAAcD,GAAd,IAAqBd,IAAIgB,MAAJ,CAAWF,GAAX,EAAgBF,WAAhB,EAArB,GAAqDZ,IAAIe,MAAJ,CAAWD,MAAM,CAAjB,CAA5D;AACD;;AApDY,C","file":"index.js","sourcesContent":["/* eslint-disable no-useless-escape */\nexport default {\n  convert: function (str) {\n    if (str !== null && typeof str !== 'undefined' && str !== '') {\n      let chunks = [];\n      let buffer = '';\n      for (let x = 0; x < str.length; x++) {\n        if (str[x].match(/[\\s]+/) || str[x] == '-' || str[x] == '.' || str[x] == ',') {\n          chunks.push(this.processChunk(`${buffer}${str[x]}`));\n          buffer = '';\n        } else {\n          buffer += str[x];\n        }\n      }\n\n      if (buffer != '') {\n        chunks.push(this.processChunk(buffer));\n      }\n\n      let final = chunks.join('').trim();\n      return final;\n    }\n    return '';\n\n  },\n\n  processChunk: function (str) {\n    // Surname prefixes\n    if (str.match(/^(van|von|der|la|d[aeio]|d[ao]s|dit)[\\s,]*$/i)) {\n      return str.toLowerCase();\n    }\n\n    // Ordinal suffixes (I - VIII only)\n    if (str.match(/^(i{3}|i{1,2}v?|v?i{1,2})[\\s,]*$/i)) {\n      return str.toUpperCase();\n    }\n    str = str.toLowerCase();\n    str = this.toUpperCaseAt(str, 0);\n\n    // Third character capitalized, like D'Angelo, McDonald, St. John, 0'Neil\n    if (str.match(/(^|\\s)+(Mc|[DO]\\'|St\\.|St[\\.]?[\\s]|Dewolf)/i)) {\n      str = this.toUpperCaseAt(str, 2);\n    }\n\n    // Fourth character capitalized, like MacDonald, MacRae\n    if (str.match(/(^|\\s*)(Mac)(allist|arth|b|c(allu|art|ask|l|r|ull)|d|f|g|i(nn|nty|saa|v)|kinn|kn|l(a|ea|eo)|m|na[mu]|n[ei]|ph|q|ra|sw|ta|w)/i)) {\n      str = this.toUpperCaseAt(str, 3);\n    }\n    return str;\n  },\n\n  toUpperCaseAt: function (str, pos) {\n    return str.substr(0, pos) + str.charAt(pos).toUpperCase() + str.substr(pos + 1);\n  }\n\n};\n"]}